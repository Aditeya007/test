# Environment Configuration Example
# Copy this file to .env and fill in your actual values

# =============================================================================
# NODE ENVIRONMENT
# =============================================================================
NODE_ENV=production

# =============================================================================
# MONGODB CONFIGURATION
# =============================================================================
# Option A: Use local MongoDB
MONGO_URI=mongodb://localhost:27017/rag_chatbot_prod

# Option B: Use MongoDB Atlas (recommended for production)
# MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/rag_chatbot_prod

# MongoDB connection pool settings (optional)
MONGO_MAX_POOL_SIZE=20
MONGO_MIN_POOL_SIZE=5
MONGO_SERVER_TIMEOUT=10000
MONGO_SOCKET_TIMEOUT=45000

# =============================================================================
# SECURITY SECRETS
# =============================================================================
# Generate secrets with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_jwt_secret_here_use_random_32_byte_hex
FASTAPI_SHARED_SECRET=your_fastapi_secret_here_use_random_32_byte_hex
SERVICE_SECRET=your_fastapi_secret_here_use_random_32_byte_hex

# =============================================================================
# API KEYS
# =============================================================================
# Get free API key from: https://makersuite.google.com/app/apikey
GOOGLE_API_KEY=your_google_api_key_here

# =============================================================================
# SMTP EMAIL CONFIGURATION (Lead Delivery)
# =============================================================================
# Configure email service for sending lead notifications when chat sessions close
# Supports any SMTP provider: Gmail, Outlook, SendGrid, Mailtrap, etc.

# SMTP server hostname
SMTP_HOST=smtp.gmail.com

# SMTP server port (587 for TLS, 465 for SSL)
SMTP_PORT=587

# SMTP authentication credentials
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password-here

# "From" email address (optional, defaults to SMTP_USER)
SMTP_FROM_EMAIL=noreply@yourcompany.com

# Setup guides:
# - Gmail: Enable 2FA, then generate App Password at https://myaccount.google.com/apppasswords
# - Mailtrap (testing): Get free test inbox at https://mailtrap.io/inboxes
# - SendGrid: Get API key and use smtp.sendgrid.net, port 587, user "apikey"

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=5000

# Your domain (replace mychatbot.com with YOUR domain)
FASTAPI_BOT_URL=https://mychatbot.com/bot
ADMIN_BACKEND_URL=https://mychatbot.com/api
BOT_URL=https://mychatbot.com/bot

# =============================================================================
# CORS & WIDGET CONFIGURATION
# =============================================================================
# CORS_ORIGIN: Allowed origins for API requests
# - For production with specific domain: https://mychatbot.com
# - For widget embedding from any domain: *
CORS_ORIGIN=https://mychatbot.com

# ENABLE_WIDGET: Set to true if you want to allow CORS_ORIGIN=* for widget embedding
# This is required if CORS_ORIGIN=* in production
ENABLE_WIDGET=true

# =============================================================================
# PROXY CONFIGURATION
# =============================================================================
# TRUST_PROXY: Enable when running behind Nginx or other reverse proxy
# This is REQUIRED in production to:
# - Fix express-rate-limit ERR_ERL_UNEXPECTED_X_FORWARDED_FOR errors
# - Properly detect client IP addresses from X-Forwarded-For header
TRUST_PROXY=true

# =============================================================================
# PYTHON CONFIGURATION
# =============================================================================
# Path to Python executable (optional, auto-detected if not set)
# PYTHON_BIN=/usr/bin/python3

# Scraper and updater log levels (DEBUG, INFO, WARNING, ERROR)
SCRAPER_LOG_LEVEL=INFO
UPDATER_LOG_LEVEL=INFO
